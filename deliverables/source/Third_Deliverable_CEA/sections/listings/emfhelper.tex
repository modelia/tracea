
%\begin{center}
\begin{lstlisting}[caption={EMFHelper: reflection excerpt for the integration of a confidence value into Capra's \texttt{Connection} interface},
label=lst:emfhelper,
style=mystylexcore,
frame=shadowbox, 
rulesepcolor=\color{blue},
morekeywords={class,contains,abstract,extends,\{,\},\[,\],refers,derived,String,get,int,double,List,Connection,EObject,void,String,boolean,Collection,EClass,EStructuralFeature,return,null,private,static,public,double,for,if},
linewidth=17cm,
xleftmargin=0.3cm
]
public static double getConfidenceValue(EObject tlink) {
    EObject confidenceEO = (EObject)tlink.eGet(
            getEStructuralFeatureByName(tlink, "confidence"));
    if(confidenceEO == null)
        return DEFAULT_CONFIDENCE;
    return (double)confidenceEO.eGet(
            getEStructuralFeatureByName(confidenceEO, "value"));
}

public static EStructuralFeature getEStructuralFeatureByName
                                        (EObject eo, String esfName) {
    for (EStructuralFeature	esf : eo.eClass().getEAllStructuralFeatures()) 
        if(esf.getName().equals(esfName)) 
            return esf;
    return null;
}
\end{lstlisting}
%\end{center}




